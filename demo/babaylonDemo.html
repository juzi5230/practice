<!DOCTYPE html>
<html lang="en">
<!-- eslint disabled -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Babylonjs 基础</title>
  <style>
    html,
    body {
      overflow: hidden;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #renderCanvas {
      width: 100%;
      height: 100%;
      /* touch-action: none; */
    }
  </style>
  <script src="./static/js/babylon.js"></script>
  <script src="./static/js/babylonjs.loaders.min.js"></script>
</head>

<body>
  <canvas id="renderCanvas"></canvas>
  <script>
    const canvas = document.getElementById("renderCanvas")
    const engine = new BABYLON.Engine(canvas, true)
    const vec = 5
    engine.enableOfflineSupport = false
    /******* 创建场景 ******/
    // const createScene = function () {
      // 实例化场景
      const scene = new BABYLON.Scene(engine)
      // 创建相机并添加到canvas
        scene.clearColor = new BABYLON.Color4(0, 0, 0, 0.5)
      const camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2, Math.PI / 2, 3, new BABYLON.Vector3(0, 0, 1), scene)
      camera.attachControl(canvas, true)
      // 添加光
    //   const light1 = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(-1, -1, -1), scene)
    //   const light2 = new BABYLON.PointLight("light2", new BABYLON.Vector3(0, 1, -1), scene)
    var light = new BABYLON.DirectionalLight("DirectionalLight", new BABYLON.Vector3(1, -1, -1), scene);
    // light.diffuseColor = new BABYLON.Color3(1, 0, 0)
    light.diffuse = new BABYLON.Color3(0.12, 0.56, 1);
            // light.specular = new BABYLON.Color3(0.3, 0.6, 1);
            // light.groundColor = new BABYLON.Color3(0.3, 0.6, 1)
    // light.intensity = 1.5
    // light.range = 0.4
      // 创建内容，一个球
      const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", { diameter: 3 }, scene)
    //   return scene
    // }
    /******* 结束创建场景 ******/
    // const scene = createScene()
    // loop
    var materialSphere = new BABYLON.StandardMaterial("texture3", scene);
    materialSphere.diffuseTexture = new BABYLON.Texture("./img/girl.jpeg", scene);


    const materialGrass = new BABYLON.StandardMaterial("materialGrass", scene);
    materialGrass.diffuseTexture = new BABYLON.Texture("./img/world_map.jpeg", scene);
    // materialGrass.diffuseColor = new BABYLON.Color3(0.3, 0.6, 1);
    // materialGrass
    // materialGrass.diffuseTexture
    // materialGrass.diffuseTexture.uScale = 5.0;//垂直方向重复5次
    // materialGrass.diffuseTexture.vScale = 5.0;

    // sphere.material = materialSphere
    sphere.material = materialGrass
    // sphere.position.Vector3()
    engine.runRenderLoop(function () {
      sphere.addRotation(0, -0.01, 0.01).addRotation(0, 0, 0).addRotation(0, 0, 0);
      scene.render()
    })
    // resize
    window.addEventListener("resize", function () {
      engine.resize()
    })
  </script>
</body>

</html>
